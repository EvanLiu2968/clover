## 数据库

#### 事务四大特性
1. 原子性，要么执行，要么不执行
2. 隔离性，所有操作全部执行完以前其它会话不能看到过程
3. 一致性，事务前后，数据总额一致
4. 持久性，一旦事务提交，对数据的改变就是永久的

#### 索引的优缺点
索引最大的好处是提高查询速度，
缺点是更新数据时效率低，因为要同时更新索引
对数据进行频繁查询进建立索引，如果要频繁更改数据不建议使用索引。

#### 分库分表，主从复制，读写分离
读写分离，读从库，写主库

#### 数据库连接池的作用
维护一定数量的连接，减少创建连接的时间
更快的响应时间
统一的管理

#### 关系型数据库
优点
1. 容易理解：二维表结构是非常贴近逻辑世界一个概念，关系模型相对网状、层次等其他模型来说更容易理解；
2. 使用方便：通用的SQL语言使得操作关系型数据库非常方便；
3. 易于维护：丰富的完整性(实体完整性、参照完整性和用户定义的完整性)大大减低了数据冗余和数据不一致的概率；
4. 支持SQL，可用于复杂的查询。
5. 支持事务

缺点
1. 为了维护一致性所付出的巨大代价就是其读写性能比较差；
2. 固定的表结构；
3. 不支持高并发读写需求；
4. 不支持海量数据的高效率读写

#### 非关系型数据库
优点
1. 无需经过sql层的解析，读写性能很高
2. 基于键值对，数据没有耦合性，容易扩展
3. 存储数据的格式：nosql的存储格式是key,value形式

缺点
1. 不支持事务
2. 不提供sql支持

#### 锁
| 锁 |  概念  |
|--------|---------------|
|乐观锁 |自己实现，通过版本号|
|悲观锁 |共享锁，多个事务，只能读不能写，加 lock in share mode|
|排它锁 |一个事务，只能写，for update|
|行锁   |作用于数据行|
|表锁   |作于用表|
